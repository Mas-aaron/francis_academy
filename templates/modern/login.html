{% extends 'modern/base.html' %}
{% load static %}

{% block title %}Sign In - Francis Academy{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth-elegant.css' %}">
{% endblock %}

{% block content %}
<!-- Login Section -->
<section class="auth-section">
  <div class="auth-background">
    <div class="auth-shape-1"></div>
    <div class="auth-shape-2"></div>
    <div class="auth-shape-3"></div>
  </div>
  
  <div class="container">
    <div class="auth-wrapper">
      <!-- Left Side - Branding -->
      <div class="auth-branding">
        <div class="auth-branding-content">
          <div class="auth-logo">
            <img src="{% static 'images/logo-white.svg' %}" alt="Francis Academy">
            <h2>Francis Academy</h2>
          </div>
          
          <h1 class="auth-branding-title">
            Welcome Back!
          </h1>
          
          <p class="auth-branding-subtitle">
            Continue your learning journey and achieve your goals with our expert-led courses.
          </p>
          
          <div class="auth-stats">
            <div class="auth-stat-item">
              <div class="stat-number">10,000+</div>
              <div class="stat-label">Active Students</div>
            </div>
            <div class="auth-stat-item">
              <div class="stat-number">500+</div>
              <div class="stat-label">Courses Available</div>
            </div>
            <div class="auth-stat-item">
              <div class="stat-number">4.8/5</div>
              <div class="stat-label">Average Rating</div>
            </div>
          </div>
          
          <div class="auth-testimonial">
            <div class="testimonial-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <p class="testimonial-text">
              "The best online learning platform I've ever used. Highly recommended!"
            </p>
            <p class="testimonial-author">â€” Michael Chen, Software Engineer</p>
          </div>
        </div>
      </div>
      
      <!-- Right Side - Login Form -->
      <div class="auth-form-container">
        <div class="auth-form-wrapper">
          <div class="auth-form-header">
            <h2>Sign In to Your Account</h2>
            <p>Don't have an account? <a href="{% url 'signup' %}" class="auth-link">Sign Up</a></p>
          </div>
          
          {% if messages %}
            <div class="auth-messages">
              {% for message in messages %}
                <div class="auth-message auth-message-{{ message.tags }}">
                  <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                  {{ message }}
                </div>
              {% endfor %}
            </div>
          {% endif %}
          
          <!-- Social Login -->
          <div class="social-auth">
            <button class="social-btn social-google">
              <i class="fab fa-google"></i>
              Continue with Google
            </button>
            <button class="social-btn social-github">
              <i class="fab fa-github"></i>
              Continue with GitHub
            </button>
          </div>
          
          <div class="auth-divider">
            <span>OR</span>
          </div>
          
          <!-- Login Form -->
          <form method="post" action="{% url 'login' %}" class="auth-form" id="loginForm">
            {% csrf_token %}
            
            <input type="hidden" name="next" value="{{ next }}">
            
            <div class="form-group">
              <label for="username">Email or Username</label>
              <div class="input-with-icon">
                <i class="fas fa-user"></i>
                <input type="text" id="username" name="username" required 
                       placeholder="Enter your email or username" 
                       value="{{ form.username.value|default:'' }}"
                       autofocus>
              </div>
              {% if form.username.errors %}
                <span class="form-error">{{ form.username.errors.0 }}</span>
              {% endif %}
            </div>
            
            <div class="form-group">
              <label for="password">
                Password
                <a href="#" class="forgot-link">Forgot?</a>
              </label>
              <div class="input-with-icon">
                <i class="fas fa-lock"></i>
                <input type="password" id="password" name="password" required 
                       placeholder="Enter your password">
                <button type="button" class="password-toggle" data-target="password">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
              {% if form.password.errors %}
                <span class="form-error">{{ form.password.errors.0 }}</span>
              {% endif %}
            </div>
            
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" name="remember">
                <span>Remember me for 30 days</span>
              </label>
            </div>
            
            <button type="submit" class="btn-auth-submit">
              <span class="btn-text">Sign In</span>
              <span class="btn-loader" style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> Signing In...
              </span>
            </button>
          </form>
          
          <div class="auth-footer">
            <p>Protected by industry-standard security and encryption.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth-elegant.js' %}"></script>
{% endblock %}
